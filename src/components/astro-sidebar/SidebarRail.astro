---
interface Props {
  class?: string;
}

const { class: className = '' } = Astro.props;
---

<button
  data-sidebar-rail
  aria-label="Toggle Sidebar"
  tabindex="-1"
  title="Toggle Sidebar"
  class={`hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex ${className}`}
>
  <span class="sr-only">Toggle Sidebar</span>
</button>

<script>
  const rail = document.currentScript?.previousElementSibling as HTMLElement;
  if (rail) {
    rail.addEventListener('click', () => {
      const trigger = document.querySelector('[data-sidebar-trigger]') as HTMLElement;
      trigger?.click();
    });
  }
</script>

