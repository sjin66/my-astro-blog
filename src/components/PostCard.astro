---
import { Image } from 'astro:assets';

import FormattedDate from './FormattedDate.astro';
import { Badge } from './ui/badge';
const { post, class: className } = Astro.props;
// get base url for post-card-link's href
const baseUrl = import.meta.env.BASE_URL;
const href = `${baseUrl}/blog/${post.id}/`;
---

<div class={`group relative bg-background overflow-hidden rounded-2xl border border-border from-background/70 via-background/80 to-background/95 shadow-lg transition duration-300 hover:-translate-y-1 hover:shadow-2xl  ${className}`} data-slot="post-card-container">
  <a href={href} data-slot="post-card-link" class="block focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/60 rounded-lg">
    {post.data.heroImage && (
      <Image
        src={post.data.heroImage}
        alt=""
        class="w-full h-52 object-cover transition-transform duration-300 ease-out group-hover:scale-115"
        data-slot="post-card-image"
      />
    )}
    <div class="mx-5 mt-5 border-t-2 py-5">
      <div class="h-20" data-slot="post-card-title-container">
        <p class="font-extrabold text-2xl mb-5 truncate-2-lines group-hover:text-primary transition-colors duration-300">{post.data.title}</p>
      </div>
      <div class="text-muted-foreground flex flex-row justify-between items-center"><FormattedDate date={post.data.pubDate} /> <Badge className="mb-4">{post.data.tag}</Badge></div>
      <p class="line-clamp-3 text-foreground/80">{post.data.description}</p>
    </div>
  </a>
</div>
